# Техническое задание (ТЗ) на создание web-фронтенда для мобильного приложения с системой подписок

## 1. Общая информация
### 1.1. Назначение
Web-фронтенд — это landing page и личный кабинет для продвижения приложения, управления подписками и поинтами (виртуальная валюта для ИИ-генерации поздравлений/открыток). Он интегрируется с бэкендом через REST API для аутентификации, проверки статусов и транзакций. Цель: увеличение конверсии в подписки/покупки, удобный доступ к аккаунту без мобильного приложения. Подход вдохновлён крупными сервисами (Duolingo, Calm, Headspace): лендинг для привлечения, дашборд для удержания пользователей.

### 1.2. Цели
- **Маркетинг**: Привлечение пользователей через SEO-оптимизированный лендинг с акцентом на ИИ-генерацию поздравлений/открыток.
- **Конверсия**: Простая воронка — от лендинга к подписке/покупке поинтов.
- **Управление аккаунтом**: Отслеживание и редактирование подписок/поинтов в личном кабинете.
- **Кросс-платформенность**: Responsive дизайн (mobile-first), поддержка десктопа.
- **Масштабируемость**: Поддержка 10k+ посетителей/месяц, интеграция с Google Analytics.

### 1.3. Предполагаемые технологии
- **Фреймворк**: React.js с Next.js (SSR для SEO, App Router для маршрутизации).
- **UI-компоненты**: shadcn/ui для быстрого создания красивого, доступного интерфейса (Button, Card, Table, Modal, Dropdown, Tabs, Badge, Toast, etc.).
- **Стили**: Tailwind CSS (интегрировано с shadcn/ui) для кастомизации и responsive-дизайна.
- **Аутентификация**: NextAuth.js для JWT и OAuth (VK/Google).
- **API**: Axios или Fetch для вызовов к бэкенду; React Query или SWR для управления данными.
- **Хостинг**: Vercel для автоматического деплоя и масштабирования.
- **Аналитика**: Google Analytics для трекинга событий (CTA, конверсии).
- **Дополнительно**: RuStore web-интеграция для платежей (если требуется), Framer Motion для анимаций (опционально).

## 2. Функциональные требования
### 2.1. Структура сайта
- **Главная страница (Лендинг)**:
  - **Hero-секция**: Заголовок "Генерируй уникальные поздравления и открытки с ИИ за секунды!" (shadcn/ui Typography), подзаголовок с пользой (экономия времени, персонализация). Кнопки CTA — "Скачать приложение" (RuStore/Google Play) и "Подписаться сейчас" (shadcn/ui Button с variant="default").
  - **Реклама**: Видео/гифки демо приложения (lazy-loaded), карусель отзывов пользователей (shadcn/ui Carousel).
  - **Польза**: Блоки "Как это работает" (3–5 шагов: Выбери шаблон → Добавь текст → ИИ генерирует) и "Преимущества премиум" (неограниченные генерации, эксклюзивные шаблоны) — использовать shadcn/ui Card для каждого блока.
  - **CTA**: Кнопки внизу секций (shadcn/ui Button с variant="outline" для вторичных действий).
  - **Навигация**: Header с shadcn/ui DropdownMenu (Logo | Главная | Цены | О нас | Вход/Регистрация | Скачать). Footer: shadcn/ui Card с контактами, политикой конфиденциальности, ссылками на соцсети.
- **Страница Цены (Pricing)**:
  - **Тарифы**: Freemium (бесплатно: 5 поинтов/день), Monthly (199 руб./мес.: unlimited + 100 поинтов), Yearly (1490 руб./год: скидка 20%).
  - **UI**: shadcn/ui Table для сравнения тарифов (колонки: Free | Monthly | Yearly; ряды: Поинты, Генерации, Поддержка). Использовать shadcn/ui Badge для акцента (например, "20% скидка").
  - **CTA**: shadcn/ui Button для "Оформить подписку" (redirect на RuStore) и "Купить поинты" (модал с пакетами: 100 за 99 руб., 500 за 399 руб., shadcn/ui Dialog).
- **Вход/Регистрация**:
  - Модал (shadcn/ui Dialog): Формы с shadcn/ui Input для email/пароля, shadcn/ui Button для OAuth (VK/Google).
  - После входа: Redirect на кабинет или лендинг.
- **Личный кабинет (Dashboard)**:
  - **Обзор**: Welcome-блок (shadcn/ui Card) с аватаром (shadcn/ui Avatar), баланс поинтов ("У вас 150 поинтов"), статус подписки (shadcn/ui Badge, зелёный для "Активна до 15.11.2025").
  - **Подписка**: shadcn/ui Card с деталями (план, даты), кнопки "Отменить" (shadcn/ui Dialog для подтверждения, API вызов), "Продлить/Оформить" (redirect на RuStore).
  - **Поинты**: shadcn/ui Card с графиком расхода/пополнения (Chart.js или shadcn/ui Chart, если добавят), кнопка "Купить поинты" (shadcn/ui Dialog с выбором пакетов).
  - **История**: shadcn/ui Table с транзакциями (дата, тип: +100 поинтов, -1 за генерацию, статус).
  - **Генерация**: Кнопка "Создать в app" (deeplink, shadcn/ui Button) или web-генератор (опционально, shadcn/ui Form для ввода текста).
  - **Навигация**: Sidebar с shadcn/ui Tabs (Профиль | Подписка | Поинты | История | Выход).

### 2.2. Интеграция с бэкендом
- **API Calls**: Использовать React Query для кэширования и асинхронных запросов (например, `GET /api/subscription/status` с JWT).
- **Real-time**: Polling или WebSocket для обновления UI после вебхуков (например, смена статуса подписки).
- **Ошибки**: shadcn/ui Toast для уведомлений (например, "Подписка отменена успешно" или "Ошибка платежа").

### 2.3. UX/UI принципы
- **Воронка**: Лендинг → Pricing → Login → Dashboard. A/B-тесты CTA (например, текст кнопок) с Google Analytics.
- **Мобильность**: Mobile-first дизайн с Tailwind (breakpoints в shadcn/ui).
- **Доступность**: ARIA-labels в shadcn/ui компонентах, поддержка dark mode (авто с Tailwind).
- **Локализация**: Русский/английский, формат валюты (RUB) с Intl.NumberFormat.
- **Анимации**: Лёгкие переходы для модалов/кнопок с Framer Motion или shadcn/ui defaults.

## 3. Нефункциональные требования
- **Производительность**: Page load < 2s (Next.js Image для lazy loading).
- **SEO**: Meta-tags, sitemap.xml, alt для изображений (цель: топ по "ИИ открытки поздравления").
- **Безопасность**: HTTPS, Content Security Policy (CSP), no client-side secrets (JWT в httpOnly cookies).
- **Тестирование**: Cypress для E2E тестов, Jest для unit тестов (компоненты shadcn/ui).
- **Аналитика**: Google Analytics events (например, "subscribe_clicked", "login_success").

## 4. Этапы разработки
1. **Setup**: Инициализация Next.js (App Router), установка shadcn/ui (`npx shadcn-ui@latest init`), Tailwind CSS.
2. **Лендинг + Навигация**: Hero (Typography, Button), pricing (Table, Badge), auth (Dialog, Input).
3. **Кабинет**: Dashboard (Card, Tabs, Table), API hooks с React Query.
4. **Интеграция**: Тестирование с бэкендом, RuStore redirects.
5. **Оптимизация & Деплой**: SEO (Next.js Metadata), A/B-тесты, деплой на Vercel.

## 5. Приложения
- **Wireframes**: [Добавить Figma-мокапы позже].
- **Пример**: Duolingo.com (лендинг с пользой, pricing с таблицей, dashboard с прогрессом).
- **API**: Связь с requirements-backend.md (бэкенд).
- **shadcn/ui**: Использовать компоненты из https://ui.shadcn.com (Button, Card, Table, Dialog, Tabs, Badge, Toast, Input, Avatar, DropdownMenu, Carousel).