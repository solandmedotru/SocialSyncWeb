# Правила Документирования Проекта

Этот документ определяет стандарты и лучшие практики по ведению документации для обеспечения её полноты, актуальности и полезности для всех членов команды.

---

## 1. Общие принципы

- **Документация как код (Docs as Code):** Все файлы документации должны храниться в репозитории проекта в формате Markdown (`.md`).
- **Единый источник правды:** Документация должна быть единственным достоверным источником информации о проекте.
- **Актуальность:** Регулярно обновляйте документацию при внесении изменений в код, архитектуру или требования. Устаревшая документация хуже, чем её отсутствие.
- **Ясность и краткость:** Пишите просто и по делу. Избегайте двусмысленности и сложных формулировок.
- **Целевая аудитория:** Адаптируйте стиль и глубину изложения под предполагаемого читателя (разработчик, менеджер, новый сотрудник).

---

## 2. Структура документации

Вся документация должна находиться в директории `/docs`.

- **`docs/README.md`:** Обзорный файл, описывающий структуру директории `docs`.
- **`docs/requirements.md`:** Техническое задание (ТЗ) и функциональные требования к проекту.
- **`docs/architecture.md`:** Описание архитектуры системы, включая диаграммы (Mermaid.js), описание основных компонентов и их взаимодействия.
- **`docs/setup.md`:** Инструкции по установке и запуску проекта для локальной разработки.
- **`docs/deployment.md`:** Руководство по развертыванию приложения на тестовом и продакшн-окружениях.
- **`docs/api/`:** Директория для документации по API.
- **`docs/roadmap.md`:** Директория для Дорожной карты.

---

## 3. Документирование API (Backend)

- **Стандарт:** Используйте **OpenAPI 3.0 (Swagger)** для описания всех эндпоинтов API.
- **Автогенерация:** Настройте автоматическую генерацию Swagger-документации на основе кода и комментариев (например, с помощью `@nestjs/swagger`).
- **Обязательные элементы для каждого эндпоинта:**
  - Краткое и понятное описание (`summary`).
  - Детальное описание назначения эндпоинта (`description`).
  - Описание всех параметров запроса (path, query, body) с указанием типов и обязательности.
  - Примеры запросов (`example`).
  - Описание всех возможных ответов сервера (200, 201, 400, 401, 403, 404, 500) с примерами тел ответов.
  - Информация о требуемых правах доступа (например, "Только для аутентифицированных пользователей").

---

## 4. Документирование кода

- **Комментарии в коде:** Комментируйте только сложную, неочевидную логику. Хорошо написанный, самодокументируемый код предпочтительнее обилия комментариев.
- **JSDoc / TSDoc (для Frontend/Backend):** Используйте аннотации для описания:
  - Назначения функций, классов и методов.
  - Параметров (`@param`) с указанием типа и описания.
  - Возвращаемых значений (`@returns`).
- **README.md в модулях:** Крупные модули или компоненты (например, модуль `payments` на бэкенде) могут иметь собственный `README.md` с описанием своей внутренней структуры и логики.

---

## 5. Ведение `CHANGELOG.md`

- В корне проекта должен находиться файл `CHANGELOG.md`.
- Записи должны вестись в формате **Keep a Changelog**.
- Каждая запись должна содержать версию, дату и список изменений, сгруппированных по типам:
  - `Added`: для новых функций.
  - `Changed`: для изменений в существующей функциональности.
  - `Deprecated`: для устаревших функций, которые скоро будут удалены.
  - `Removed`: для удаленных функций.
  - `Fixed`: для исправлений ошибок.
  - `Security`: в случае исправлений уязвимостей.